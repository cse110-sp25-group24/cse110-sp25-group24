<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Imports utility functions from map.js:
 * - initMapDisplay: initializes the map display.
 * - insertAPIKey: handles user input of an API key.
 */
import { initMapDisplay, insertAPIKey } from "./map.js";

// Run the init() function when the page has loaded
window.addEventListener("DOMContentLoaded", async () => {
  await init();
});

/**
 * Initializes the page's interactive behavior.
 *
 * Responsibilities:
 * - Manages showing/hiding a modal window.
 * - Loads button states from localStorage and enables toggling.
 * - Colors category tags based on their type.
 * - Initializes the map display.
 *
 * @async
 * @function
 * @returns {Promise&lt;void>}
 */

async function init() {
  /**
   * Adds a click event listener to the "Load Map" button
   * to insert the API key.
   */
  document.getElementById("loadMapBtn").addEventListener("click", insertAPIKey);

  // Show or hide side bar
  const modal = document.getElementById("memoryModal");
  const openBtn = document.getElementById("openModalBtn");
  const closeBtn = document.getElementById("closeModalBtn");

  openBtn.addEventListener("click", () => {
    modal.classList.remove("hidden");
  });

  closeBtn.addEventListener("click", () => {
    modal.classList.add("hidden");
  });

  document.querySelectorAll(".icon-btn").forEach((button) => {
    const type = button.dataset.type;
    const id = button.dataset.id;
    const key = `memory:${id}:${type}`;

    // Get status from localStorage
    const isActive = localStorage.getItem(key) === "true";
    if (isActive) {
      button.classList.add("active");
    }

    // Change status when clicked
    button.addEventListener("click", () => {
      const nowActive = button.classList.toggle("active");
      localStorage.setItem(key, nowActive);
    });
  });

  document.querySelectorAll(".category-tag").forEach((tag) => {
    const type = tag.dataset.category.toLowerCase();

    const colors = {
      nostalgic: "#ff9d24",
      travel: "#1be287",
      food: "#ff247d",
      music: "#2496ff",
    };

    if (colors[type]) {
      tag.style.backgroundColor = colors[type];
      tag.style.color = "white";
    }
  });
  initMapDisplay();
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#API_KEY_STORAGE">API_KEY_STORAGE</a></li><li><a href="global.html#addMarker">addMarker</a></li><li><a href="global.html#addMemory">addMemory</a></li><li><a href="global.html#cardTemplate">cardTemplate</a></li><li><a href="global.html#changeImg">changeImg</a></li><li><a href="global.html#confirmSafety">confirmSafety</a></li><li><a href="global.html#createCardContent">createCardContent</a></li><li><a href="global.html#createCardMeta">createCardMeta</a></li><li><a href="global.html#createMemoryPhoto">createMemoryPhoto</a></li><li><a href="global.html#deleteAllMemories">deleteAllMemories</a></li><li><a href="global.html#deleteListener">deleteListener</a></li><li><a href="global.html#deleteMemory">deleteMemory</a></li><li><a href="global.html#displayAllMemories">displayAllMemories</a></li><li><a href="global.html#editListener">editListener</a></li><li><a href="global.html#fileToDataUrl">fileToDataUrl</a></li><li><a href="global.html#fillForm">fillForm</a></li><li><a href="global.html#getAllLocations">getAllLocations</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initAutocomplete">initAutocomplete</a></li><li><a href="global.html#initCreate">initCreate</a></li><li><a href="global.html#initDB">initDB</a></li><li><a href="global.html#initMap">initMap</a></li><li><a href="global.html#initMapDisplay">initMapDisplay</a></li><li><a href="global.html#insertAPIKey">insertAPIKey</a></li><li><a href="global.html#isEmptyDB">isEmptyDB</a></li><li><a href="global.html#loadGoogleMaps">loadGoogleMaps</a></li><li><a href="global.html#map">map</a></li><li><a href="global.html#onPlaceChanged">onPlaceChanged</a></li><li><a href="global.html#retrieveMemory">retrieveMemory</a></li><li><a href="global.html#submitForm">submitForm</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Wed Jun 11 2025 02:09:43 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
