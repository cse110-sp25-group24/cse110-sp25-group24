---
title: [Map API ADR] - [Google Maps JavaScript API]
status: Proposed
date: 05-10-2025
decision-makers: [William Widjaja, Alexis Vega, Aruthan Raveendra]
---

## Summary

_We propose using the **Google Maps JavaScript API via `<script>` tag** to display and interact with a map on our web application. This will enable users to drop pins, view memory cards on a location, and search for places. This decision minimizes dependencies but still provides the interactive features our project requires. This API will also allow us to have dynamic marker creation on the map which allows the users teh visualize their memories on the map._


---

## Context and Problem Statement

Our project centers on a **community memory map**. Users should be able to:

- View memory cards pinned to real locations
- Tap on markers to open a card preview
- Optionally search for specific places

We want to implement this with **minimal dependencies** and **without full reliance on external APIs**, but also need interactive map features. The tradeoff is between usability and offline robustness.

This ADR is submitted for **TA approval**, as it includes a third-party API and may involve limited online access.

## Considered Options

### Option 1: Google Maps Embed (iframe)

- Use static embed URLs for maps
- Minimal or no interactivity

### Option 2: Google Maps JS API via `<script>` tag (**Chosen**)

- Full control with pins, pop-ups, JS events
- Loaded directly via `<script>` tag (not via `npm`)
- Doesn’t add to project dependencies
- google.maps.Marker element which allows for dynamic creation of markers based on lat and lng values

### Option 3: `react-leaflet`, `@react-google-maps/api`

- Provides React bindings and easier syntax
- Requires additional npm dependencies
- Goes against the “minimize dependencies” principle

## Decision Outcome

**Chosen Option:** Google Maps JavaScript API via `<script>` tag

This approach gives us:

- Interactive pins and events for our memory cards
- Lightweight integration (no npm packages)
- Enough flexibility without introducing too much complexity

**Pending Approval:** This decision requires TA review, as it:

- Introduces a network dependency (Google Maps API)
- Uses a third-party service (must handle failure cases)

### Consequences

- Lightweight — no build-time dependency  
- Customization — full JS control over pin logic  
- Works with vanilla JS or minimal frameworks  
- Must handle offline fallback or error states  
- Requires an API key with quota and possible billing  
- Needs to be tested to ensure graceful failure if network/API is unavailable
  
### Confirmation

- [ ] Request TA approval on use of Google Maps API
- [ ] Add fallback logic for offline mode testing (graceful error or static map)
- [ ] Store API key securely in config/env
- [ ] Implement map with pins, card previews, and zoom control via JS

## Pros and Cons of the Options

| Option              | Pros                             | Cons                                                                       |
| ------------------- | -------------------------------- | -------------------------------------------------------------------------- |
| `<iframe>` Embed    | Simple and static                | Not interactive (no pins, clicks, or pop-ups)                              |
| Google Maps JS API  | Full interaction, No npm package | Requires JS setup and error handling, Depends on external API              |
| React Map Libraries | Clean integration with React     | Adds dependencies against course guidelines, Slower to load, Less portable |

## Permission's Required
- We need the places (new) and map api selected
- Create a map id in the google cloud
- Set that map id to the corresponding map in the website
  
## More Information

- [Google Maps JS API Overview](https://developers.google.com/maps/documentation/javascript/overview)
- [API Embed vs JS Comparison](https://developers.google.com/maps/documentation/embed/overview)
